# =============================================================================
# TradingBot Pro - Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env file to version control!

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================
ENVIRONMENT=development
DEBUG=True
TESTING=False

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# IMPORTANT: Change these in production!
SECRET_KEY=your-secret-key-change-in-production-make-it-long-and-random
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production

# Encryption settings for sensitive data
ENCRYPTION_KEY_FILE=encryption.key
CREDENTIALS_FILE=credentials.enc

# JWT token settings
JWT_ALGORITHM=HS256
JWT_EXPIRY_HOURS=24

# Rate limiting settings
API_RATE_LIMIT_REQUESTS=60
API_RATE_LIMIT_WINDOW_SECONDS=60
RATE_LIMITING_ENABLED=true

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# SQLite (default for development)
DATABASE_URL=sqlite:///trading_bot.db

# PostgreSQL (recommended for production)
# DATABASE_URL=postgresql://username:password@localhost:5432/trading_bot

# MySQL (alternative)
# DATABASE_URL=mysql://username:password@localhost:3306/trading_bot

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=your-redis-password-change-in-production
REDIS_DB=0

# =============================================================================
# EXCHANGE API CREDENTIALS
# =============================================================================

# Binance Configuration
BINANCE_API_KEY=your_binance_api_key_here
BINANCE_SECRET_KEY=your_binance_secret_key_here
BINANCE_TESTNET=True

# Coinbase Pro Configuration
COINBASE_API_KEY=your_coinbase_api_key_here
COINBASE_SECRET_KEY=your_coinbase_secret_key_here
COINBASE_PASSPHRASE=your_coinbase_passphrase_here
COINBASE_SANDBOX=True

# Kraken Configuration
KRAKEN_API_KEY=your_kraken_api_key_here
KRAKEN_SECRET_KEY=your_kraken_secret_key_here

# =============================================================================
# TRADING CONFIGURATION
# =============================================================================
DEFAULT_TRADING_PAIR=BTCUSDT
DEFAULT_TIMEFRAME=1h
MAX_CONCURRENT_BOTS=10
DEFAULT_POSITION_SIZE=100.0
MAX_POSITION_SIZE=10000.0
MIN_POSITION_SIZE=10.0

# =============================================================================
# RISK MANAGEMENT
# =============================================================================
MAX_DAILY_LOSS=1000.0
MAX_DRAWDOWN=0.20
DEFAULT_STOP_LOSS=0.02
DEFAULT_TAKE_PROFIT=0.04
MAX_LEVERAGE=3.0

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO
LOG_FILE=logs/trading_bot.log
MAX_LOG_SIZE=10485760
LOG_BACKUP_COUNT=5

# =============================================================================
# FLASK WEB SERVER
# =============================================================================
FLASK_HOST=0.0.0.0
FLASK_PORT=5000

# =============================================================================
# WEBSOCKET CONFIGURATION
# =============================================================================
WEBSOCKET_PING_INTERVAL=20
WEBSOCKET_PING_TIMEOUT=10
WEBSOCKET_CLOSE_TIMEOUT=10

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_DEFAULT=100 per hour
RATE_LIMIT_API=1000 per hour

# =============================================================================
# CACHING
# =============================================================================
CACHE_TYPE=redis
CACHE_DEFAULT_TIMEOUT=300

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USERNAME=your_email@gmail.com
MAIL_PASSWORD=your_app_password_here
MAIL_DEFAULT_SENDER=your_email@gmail.com

# =============================================================================
# NOTIFICATION SERVICES
# =============================================================================

# Twilio SMS
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# Slack
SLACK_BOT_TOKEN=xoxb-your-slack-bot-token
SLACK_CHANNEL=#trading-alerts

# Telegram
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHAT_ID=your_telegram_chat_id

# =============================================================================
# MONITORING
# =============================================================================
PROMETHEUS_PORT=8000
HEALTH_CHECK_INTERVAL=60

# Sentry Error Tracking (Optional)
SENTRY_DSN=your_sentry_dsn_here
SENTRY_ENVIRONMENT=development
SENTRY_SAMPLE_RATE=1.0
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1
SENTRY_RELEASE=1.0.0

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_ENABLED=True
BACKUP_INTERVAL=3600
BACKUP_RETENTION_DAYS=30

# AWS S3 for backups
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_S3_BUCKET=trading-bot-backups
AWS_REGION=us-east-1

# =============================================================================
# LICENSE CONFIGURATION
# =============================================================================
LICENSE_KEY=your_license_key_here
LICENSE_SERVER_URL=https://license.tradingbot.pro
LICENSE_CHECK_INTERVAL=86400

# License Server Configuration (for license server deployment)
LICENSE_SERVER_PORT=8080
LICENSE_SERVER_SECRET=your-license-server-secret-key-change-in-production
LICENSE_ADMIN_KEY=your-license-admin-api-key-change-in-production

# License Client Configuration
ENABLE_REMOTE_LICENSE_CHECK=true
LICENSE_CACHE_TIMEOUT=3600

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================
MAX_WORKERS=4
WORKER_TIMEOUT=30
KEEP_ALIVE=2

# =============================================================================
# DATA MANAGEMENT
# =============================================================================
DATA_RETENTION_DAYS=365
CLEANUP_INTERVAL=86400
MAX_CANDLES_FETCH=1000

# =============================================================================
# STRATEGY CONFIGURATION
# =============================================================================
STRATEGY_UPDATE_INTERVAL=60
BACKTEST_MAX_DAYS=365
OPTIMIZATION_MAX_ITERATIONS=100

# =============================================================================
# STRIPE BILLING CONFIGURATION
# =============================================================================
# Stripe API Keys (get from Stripe Dashboard)
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret_here

# Stripe Price IDs for subscription plans
STRIPE_STARTER_MONTHLY_PRICE_ID=price_starter_monthly_id
STRIPE_STARTER_YEARLY_PRICE_ID=price_starter_yearly_id
STRIPE_PROFESSIONAL_MONTHLY_PRICE_ID=price_professional_monthly_id
STRIPE_PROFESSIONAL_YEARLY_PRICE_ID=price_professional_yearly_id
STRIPE_ENTERPRISE_MONTHLY_PRICE_ID=price_enterprise_monthly_id
STRIPE_ENTERPRISE_YEARLY_PRICE_ID=price_enterprise_yearly_id
STRIPE_INSTITUTIONAL_MONTHLY_PRICE_ID=price_institutional_monthly_id
STRIPE_INSTITUTIONAL_YEARLY_PRICE_ID=price_institutional_yearly_id

# =============================================================================
# MULTI-TENANT CONFIGURATION
# =============================================================================
# Master database for tenant management
MASTER_DATABASE_URL=sqlite:///master_tenant.db
# MASTER_DATABASE_URL=postgresql://username:password@localhost:5432/master_tenant

# Tenant database configuration
TENANT_DATABASE_BASE_URL=sqlite:///data/tenants
# TENANT_DATABASE_BASE_URL=postgresql://username:password@localhost:5432

# Tenant Redis configuration
TENANT_REDIS_BASE_URL=redis://localhost:6379

# Tenant storage configuration
TENANT_STORAGE_BASE_PATH=data/tenant_storage

# Tenant routing configuration
TENANT_ROUTING_METHOD=subdomain
# Options: subdomain, domain, header, path

# Default tenant limits
DEFAULT_TENANT_API_RATE_LIMIT=100
DEFAULT_TENANT_STORAGE_MB=100
DEFAULT_TENANT_MAX_STRATEGIES=3
DEFAULT_TENANT_MAX_EXCHANGES=2

# =============================================================================
# SAAS PLATFORM CONFIGURATION
# =============================================================================
# Platform settings
PLATFORM_NAME=TradingBot Pro
PLATFORM_DOMAIN=tradingbot.pro
PLATFORM_SUPPORT_EMAIL=support@tradingbot.pro

# Trial settings
DEFAULT_TRIAL_DAYS=7
TRIAL_FEATURE_LIMITS=true

# Usage tracking
USAGE_TRACKING_ENABLED=true
USAGE_AGGREGATION_INTERVAL=3600

# Billing settings
BILLING_GRACE_PERIOD_DAYS=3
AUTO_SUSPEND_ON_PAYMENT_FAILURE=true
DUNNING_MANAGEMENT_ENABLED=true

# =============================================================================
# ENTERPRISE FEATURES
# =============================================================================
# White-label configuration
WHITE_LABEL_ENABLED=false
CUSTOM_BRANDING_ENABLED=false
CUSTOM_DOMAIN_ENABLED=false

# SSO Configuration
SSO_ENABLED=false
SAML_ENABLED=false
OIDC_ENABLED=false

# Advanced security
IP_WHITELISTING_ENABLED=false
AUDIT_LOGGING_ENABLED=true
COMPLIANCE_MODE=false

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================
# Test tenant configuration
TEST_TENANT_ID=test_tenant_001
TEST_TENANT_DOMAIN=test.localhost

# Mock billing for development
MOCK_BILLING_ENABLED=true
SKIP_PAYMENT_VERIFICATION=true

# Demo mode settings
DEMO_MODE_ENABLED=true
DEMO_DATA_ENABLED=true
DEMO_MODE=true

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_VERSION=v1
API_TITLE=TradingBot Pro API
API_DESCRIPTION=Professional Trading Bot API
API_DOCS_URL=/docs
API_REDOC_URL=/redoc

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ORIGINS=*

# =============================================================================
# MACHINE LEARNING (Optional)
# =============================================================================
ML_ENABLED=False
ML_MODEL_UPDATE_INTERVAL=86400
ML_TRAINING_DATA_DAYS=90
ML_PREDICTION_HORIZON=24

# =============================================================================
# PORTFOLIO OPTIMIZATION
# =============================================================================
PORTFOLIO_REBALANCE_FREQUENCY=daily
PORTFOLIO_OPTIMIZATION_METHOD=max_sharpe
PORTFOLIO_RISK_FREE_RATE=0.02
PORTFOLIO_LOOKBACK_PERIOD=252
PORTFOLIO_MIN_WEIGHT=0.05
PORTFOLIO_MAX_WEIGHT=0.30

# =============================================================================
# ALERT CONFIGURATION
# =============================================================================
ALERT_PRICE_CHANGE_THRESHOLD=0.05
ALERT_VOLUME_SPIKE_THRESHOLD=2.0
ALERT_PL_THRESHOLD=100.0
ALERT_DRAWDOWN_THRESHOLD=0.10

# Alert Channels
ALERT_EMAIL_ENABLED=True
ALERT_SMS_ENABLED=False
ALERT_SLACK_ENABLED=False
ALERT_TELEGRAM_ENABLED=False

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================
# Uncomment and modify these for production deployment

# ENVIRONMENT=production
# DEBUG=False
# BINANCE_TESTNET=False
# COINBASE_SANDBOX=False
# LOG_LEVEL=WARNING
# MAX_CONCURRENT_BOTS=50
# RATE_LIMIT_DEFAULT=1000 per hour
# RATE_LIMIT_API=10000 per hour

# Production Database (PostgreSQL recommended)
# DATABASE_URL=postgresql://username:password@localhost:5432/trading_bot_prod

# Production Redis (with password)
# REDIS_URL=redis://:password@localhost:6379/0
# REDIS_PASSWORD=your_redis_password

# =============================================================================
# DOCKER COMPOSE VARIABLES
# =============================================================================
# Database credentials for PostgreSQL container
POSTGRES_DB=trading_bot
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres123

# Redis password for Docker
REDIS_PASSWORD=redis123

# Docker Compose profiles
# Uncomment to enable production features (nginx, ssl, etc.)
# COMPOSE_PROFILES=production
# Uncomment to enable demo data generation
# COMPOSE_PROFILES=demo

# Frontend configuration for Docker
REACT_APP_API_URL=http://localhost:5000
REACT_APP_WS_URL=ws://localhost:5000
REACT_APP_LICENSE_SERVER_URL=http://localhost:8080

# Grafana admin credentials
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=your-strong-grafana-password-change-in-production

# pgAdmin credentials
PGADMIN_DEFAULT_EMAIL=admin@tradingbot.com
PGADMIN_DEFAULT_PASSWORD=your-strong-pgadmin-password-change-in-production

# =============================================================================
# DEVELOPMENT NOTES
# =============================================================================
# 
# 1. API Keys Security:
#    - Never commit real API keys to version control
#    - Use testnet/sandbox for development
#    - Rotate keys regularly in production
#    - Use environment-specific keys
# 
# 2. Database Setup:
#    - SQLite is fine for development and small deployments
#    - Use PostgreSQL for production with high volume
#    - Enable connection pooling for better performance
# 
# 3. Redis Setup:
#    - Required for caching, rate limiting, and session management
#    - Use password protection in production
#    - Consider Redis Cluster for high availability
# 
# 4. Monitoring:
#    - Enable Prometheus metrics for production monitoring
#    - Set up proper log aggregation
#    - Configure health checks and alerts
# 
# 5. Backup Strategy:
#    - Enable automated backups for production
#    - Test restore procedures regularly
#    - Use cloud storage for backup retention
# 
# 6. Security Best Practices:
#    - Use strong, unique passwords
#    - Enable 2FA on all exchange accounts
#    - Regularly update dependencies
#    - Use HTTPS in production
#    - Implement proper access controls
# 
# =============================================================================